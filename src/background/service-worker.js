async function getMap(){const{timeByHost:e={}}=await chrome.storage.local.get("timeByHost");return e}async function setMap(e){await chrome.storage.local.set({timeByHost:e})}chrome.runtime.onMessage.addListener((e,t,o)=>{if("TICK"===e?.type&&"string"==typeof e.host)return(async()=>{const t=await getMap();t[e.host]=(t[e.host]||0)+1,await setMap(t),o({totalSec:t[e.host]})})(),!0;if("GET_TOTAL"===e?.type&&"string"==typeof e.host)return(async()=>{const t=await getMap();o({totalSec:t[e.host]||0})})(),!0;if("RESET_HOST"===e?.type&&"string"==typeof e.host)return(async()=>{const t=await getMap();t[e.host]=0,await setMap(t),o({ok:!0})})(),!0;if("RESET_ALL"===e?.type)return(async()=>{await setMap({}),o({ok:!0})})(),!0});