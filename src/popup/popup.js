function fmt(e){const t=String(Math.floor(e/3600)).padStart(2,"0"),o=String(Math.floor(e%3600/60)).padStart(2,"0"),n=String(e%60).padStart(2,"0");return`${t}:${o}:${n}`}async function init(){const[e]=await chrome.tabs.query({active:!0,currentWindow:!0}),t=new URL(e.url||"https://example.com"),o=t.hostname;document.getElementById("host").textContent=o;const n=await chrome.runtime.sendMessage({type:"GET_TOTAL",host:o}),a=n?.totalSec||0;document.getElementById("total").textContent=fmt(a);const r=await chrome.storage.sync.get(["overlayEnabled"]),c=document.getElementById("toggle-overlay");c.checked=!1!==r.overlayEnabled,c.addEventListener("change",async()=>{await chrome.storage.sync.set({overlayEnabled:c.checked})}),document.getElementById("reset-host").onclick=async()=>{await chrome.runtime.sendMessage({type:"RESET_HOST",host:o}),document.getElementById("total").textContent="00:00:00"},document.getElementById("reset-all").onclick=async()=>{await chrome.runtime.sendMessage({type:"RESET_ALL"}),document.getElementById("total").textContent="00:00:00"}}init();